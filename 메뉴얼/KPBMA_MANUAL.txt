================================================================================
KPBMA (한국제약바이오협회) SCRAPER MANUAL
================================================================================

1. 개요
--------------------------------------------------------------------------------
- 소스: 한국제약바이오협회 뉴스레터 (KPBMA)
- 웹사이트: https://www.kpbma.or.kr/
- 수집 방식: Stibee API (웹 스크래핑 아님)
- 파일 위치: scrapers/kpbma_scraper.py


2. 수집 방식
--------------------------------------------------------------------------------
⚠️ 웹 스크래핑이 아닌 Stibee 뉴스레터 API 사용

API URL:
  https://stibee.com/api/v1.0/emails/share/2sAriUDbUicnvEpfQpkEk8F9XGprX58

특징:
- JSON 형식으로 데이터 수신
- HTML 파싱 불필요
- 안정적이고 빠름


3. 사용 방법
--------------------------------------------------------------------------------
[파이프라인에서 자동 실행]
- src/multi_source_scraper.py 실행 시 자동 수집

[독립 실행 테스트]
  cd ~/pharma_news_agent
  source venv/bin/activate
  python scrapers/kpbma_scraper.py --days 7


4. 기본 설정
--------------------------------------------------------------------------------
- days_back: 기본값 (1일/3일 Monday)
- 언어: 한국어
- API 기반 수집


5. 파이프라인 설정
--------------------------------------------------------------------------------
src/multi_source_scraper.py:

"kpbma": {
    "class": KPBMAScraper,
    "enabled": True,
    "description": "한국제약바이오협회 뉴스레터",
    "args": {}
}


6. 출력 형식
--------------------------------------------------------------------------------
- 제목: "[한국제약바이오협회] ..."
- 소스: "한국제약바이오협회"


7. 예상 수집량
--------------------------------------------------------------------------------
- 1일 기준: 5-10개 뉴스


8. 문제 해결
--------------------------------------------------------------------------------
[수집 실패 시]
1. Stibee API URL 변경 가능성 확인
2. 브라우저 개발자도구 Network 탭에서 API URL 확인
3. API 응답 형식 변경 확인


9. 관련 파일
--------------------------------------------------------------------------------
- scrapers/kpbma_scraper.py         : 메인 스크래퍼
- scrapers/base_scraper.py          : 베이스 클래스
- src/keywords.py                   : 키워드 분류
- src/multi_source_scraper.py       : 통합 스크래퍼


================================================================================
END OF MANUAL
================================================================================
